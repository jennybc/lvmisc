<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Leave-one-out cross-validation — loocv • lvmisc</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Leave-one-out cross-validation — loocv" />
<meta property="og:description" content="Cross-validates the model using the leave-one-out approach. In this method
each subject's data is separated into a testing data set, and all other
subject's are kept in the training data set, with as many resamples as
the number of subjects in the original data set. It computes the model's
predicted value in the testing data set for each subject." />
<meta property="og:image" content="https://lveras.com/lvmisc/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">lvmisc</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/lvmisc.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/accuracy_indices.html">Accuracy indices</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/verasls/lvmisc/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Leave-one-out cross-validation</h1>
    <small class="dont-index">Source: <a href='https://github.com/verasls/lvmisc/blob/master/R/loocv.R'><code>R/loocv.R</code></a></small>
    <div class="hidden name"><code>loocv.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Cross-validates the model using the leave-one-out approach. In this method
each subject's data is separated into a testing data set, and all other
subject's are kept in the training data set, with as many resamples as
the number of subjects in the original data set. It computes the model's
predicted value in the testing data set for each subject.</p>
    </div>

    <pre class="usage"><span class='fu'>loocv</span><span class='op'>(</span><span class='va'>model</span>, <span class='va'>data</span>, <span class='va'>id</span>, keep <span class='op'>=</span> <span class='st'>"all"</span><span class='op'>)</span>

<span class='co'># S3 method for default</span>
<span class='fu'>loocv</span><span class='op'>(</span><span class='va'>model</span>, <span class='va'>data</span>, <span class='va'>id</span>, keep <span class='op'>=</span> <span class='st'>"all"</span><span class='op'>)</span>

<span class='co'># S3 method for lm</span>
<span class='fu'>loocv</span><span class='op'>(</span><span class='va'>model</span>, <span class='va'>data</span>, <span class='va'>id</span>, keep <span class='op'>=</span> <span class='st'>"all"</span><span class='op'>)</span>

<span class='co'># S3 method for lmerMod</span>
<span class='fu'>loocv</span><span class='op'>(</span><span class='va'>model</span>, <span class='va'>data</span>, <span class='va'>id</span>, keep <span class='op'>=</span> <span class='st'>"all"</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>model</th>
      <td><p>An object containing a model.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>A data frame.</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>The bare (unquoted) name of the column which identifies subjects.</p></td>
    </tr>
    <tr>
      <th>keep</th>
      <td><p>A character string which controls which columns are present in
the output. Can be one of three options:</p><ul>
<li><p><code>"all"</code>: The default. Retain all variables in the original data frame
plus the <code>".actual"</code> and <code>".predicted"</code> columns.</p></li>
<li><p><code>"used"</code>: Keeps only the <code>"id"</code> column of the original data frame, plus
the <code>".actual"</code> and <code>".predicted"</code> columns.</p></li>
<li><p><code>"none"</code>: Returns just the <code>".actual"</code> and `".predicted" columns.</p></li>
</ul></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns an object of class <code>loocv</code>. A tibble containing the
<code>".actual"</code> and <code>".predicted"</code> columns.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>data</span> <span class='op'>&lt;-</span> <span class='fu'>tibble</span><span class='fu'>::</span><span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>
  id <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span>, each <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>,
  x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>20</span>, mean <span class='op'>=</span> <span class='fl'>100</span>, sd <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>,
  y <span class='op'>=</span> <span class='va'>x</span> <span class='op'>*</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='fl'>20</span>, min <span class='op'>=</span> <span class='fl'>1</span>, max <span class='op'>=</span> <span class='fl'>1.2</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='va'>olr</span> <span class='op'>&lt;-</span> <span class='fu'>stats</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>y</span> <span class='op'>~</span> <span class='va'>x</span>, <span class='va'>data</span><span class='op'>)</span>
<span class='va'>lmm</span> <span class='op'>&lt;-</span> <span class='fu'>lme4</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lme4/man/lmer.html'>lmer</a></span><span class='op'>(</span><span class='va'>y</span> <span class='op'>~</span> <span class='va'>x</span> <span class='op'>+</span> <span class='op'>(</span><span class='fl'>1</span> <span class='op'>|</span> <span class='va'>id</span><span class='op'>)</span>, <span class='va'>data</span><span class='op'>)</span>

<span class='fu'>loocv</span><span class='op'>(</span><span class='va'>olr</span>, <span class='va'>data</span>, <span class='va'>id</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Joining, by = "id"</span></div><div class='output co'>#&gt; <span style='color: #555555;'># A tibble: 40 x 5</span><span>
#&gt;       id     x     y .actual .predicted
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span>     1  97.8 115.    115.       107. 
#&gt; </span><span style='color: #555555;'> 2</span><span>     1  85.1  96.7    96.7       93.4
#&gt; </span><span style='color: #555555;'> 3</span><span>     1  97.8 115.    115.       107. 
#&gt; </span><span style='color: #555555;'> 4</span><span>     1  85.1  96.7    96.7       93.4
#&gt; </span><span style='color: #555555;'> 5</span><span>     2 112.  128.    128.       121. 
#&gt; </span><span style='color: #555555;'> 6</span><span>     2  85.2  88.3    88.3       96.6
#&gt; </span><span style='color: #555555;'> 7</span><span>     2 112.  128.    128.       121. 
#&gt; </span><span style='color: #555555;'> 8</span><span>     2  85.2  88.3    88.3       96.6
#&gt; </span><span style='color: #555555;'> 9</span><span>     3  95.7  97.2    97.2      107. 
#&gt; </span><span style='color: #555555;'>10</span><span>     3  89.5  90.8    90.8      101. 
#&gt; </span><span style='color: #555555;'># … with 30 more rows</span><span></div><div class='input'><span class='fu'>loocv</span><span class='op'>(</span><span class='va'>lmm</span>, <span class='va'>data</span>, <span class='va'>id</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>boundary (singular) fit: see ?isSingular</span></div><div class='output co'>#&gt; <span class='message'>Joining, by = "id"</span></div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 40 x 5</span><span>
#&gt;       id     x     y .actual .predicted
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>   </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span>     1  97.8 115.    115.       107. 
#&gt; </span><span style='color: #555555;'> 2</span><span>     1  85.1  96.7    96.7       93.6
#&gt; </span><span style='color: #555555;'> 3</span><span>     1  97.8 115.    115.       107. 
#&gt; </span><span style='color: #555555;'> 4</span><span>     1  85.1  96.7    96.7       93.6
#&gt; </span><span style='color: #555555;'> 5</span><span>     2 112.  128.    128.       121. 
#&gt; </span><span style='color: #555555;'> 6</span><span>     2  85.2  88.3    88.3       96.9
#&gt; </span><span style='color: #555555;'> 7</span><span>     2 112.  128.    128.       121. 
#&gt; </span><span style='color: #555555;'> 8</span><span>     2  85.2  88.3    88.3       96.9
#&gt; </span><span style='color: #555555;'> 9</span><span>     3  95.7  97.2    97.2      107. 
#&gt; </span><span style='color: #555555;'>10</span><span>     3  89.5  90.8    90.8      101. 
#&gt; </span><span style='color: #555555;'># … with 30 more rows</span><span></div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://lveras.com'>Lucas Veras</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '987f1eddb6463e03949dd965804287f1',
    indexName: 'lvmisc',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


